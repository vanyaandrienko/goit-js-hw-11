{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nconst API_KEY = \"47359148-e6bdc7b546b5534c01c17ed5e\";\nconst BASE_URL = \"https://pixabay.com/api/\";\n\n\nexport async function fetchImages(query) {\n  const params = {\n    key: API_KEY,\n    q: query,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true,\n  };\n\n  try {\n    const response = await axios.get(BASE_URL, { params });\n    return response.data;\n  } catch (error) {\n    console.error(\"Error fetching images:\", error);\n    throw error;\n  }\n}\n\n\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery = document.getElementById(\"gallery\");\nconst loader = document.getElementById(\"loader\");\nlet lightbox = null;\n\nexport function clearGallery() {\n  gallery.innerHTML = \"\";\n}\n\n\nexport function toggleLoader(show) {\n  loader.hidden = !show;\n}\n\n\nexport function showMessage(type, title, message) {\n  iziToast[type]({\n    title: title,\n    message: message,\n  });\n}\n\n\nexport function renderGallery(images) {\n  const markup = images\n    .map(\n      ({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n      <a href=\"${largeImageURL}\">\n        <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n        <div class=\"info\">\n          <p><b>Likes:</b> ${likes}</p>\n          <p><b>Views:</b> ${views}</p>\n          <p><b>Comments:</b> ${comments}</p>\n          <p><b>Downloads:</b> ${downloads}</p>\n        </div>\n      </a>\n    `\n    )\n    .join(\"\");\n\n  gallery.insertAdjacentHTML(\"beforeend\", markup);\n\n  \n  if (!lightbox) {\n    lightbox = new SimpleLightbox(\".gallery a\");\n  } else {\n    lightbox.refresh();\n  }\n}\n","import { fetchImages } from \"./js/pixabay-api.js\";\nimport { clearGallery, toggleLoader, showMessage, renderGallery } from \"./js/render-functions.js\";\n\nconst searchForm = document.getElementById(\"search-form\");\n\nsearchForm.addEventListener(\"submit\", onSearch);\n\nasync function onSearch(event) {\n  event.preventDefault();\n\n  const query = searchForm.elements.query.value.trim();\n\n  if (!query) {\n    showMessage(\"warning\", \"Warning\", \"Please enter a search term.\");\n    return;\n  }\n\n  clearGallery();\n  toggleLoader(true);\n\n  try {\n    const response = await fetchImages(query);\n    const images = response.hits;\n\n    if (images.length === 0) {\n      showMessage(\"info\", \"Info\", \"Sorry, there are no images matching your search query.\");\n      return;\n    }\n\n    renderGallery(images);\n    showMessage(\"success\", \"Success\", `Found ${response.totalHits} images.`);\n  } catch (error) {\n    showMessage(\"error\", \"Error\", \"Something went wrong. Please try again later.\");\n  } finally {\n    toggleLoader(false);\n  }\n}"],"names":["API_KEY","BASE_URL","fetchImages","query","params","axios","error","gallery","loader","lightbox","clearGallery","toggleLoader","show","showMessage","type","title","message","iziToast","renderGallery","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","searchForm","onSearch","event","response"],"mappings":"owBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAGV,eAAeC,EAAYC,EAAO,CACvC,MAAMC,EAAS,CACb,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,EAEE,GAAI,CAEF,OADiB,MAAME,EAAM,IAAIJ,EAAU,CAAE,OAAAG,CAAM,CAAE,GACrC,IACjB,OAAQE,EAAO,CACd,cAAQ,MAAM,yBAA0BA,CAAK,EACvCA,CACP,CACH,CCjBA,MAAMC,EAAU,SAAS,eAAe,SAAS,EAC3CC,EAAS,SAAS,eAAe,QAAQ,EAC/C,IAAIC,EAAW,KAER,SAASC,GAAe,CAC7BH,EAAQ,UAAY,EACtB,CAGO,SAASI,EAAaC,EAAM,CACjCJ,EAAO,OAAS,CAACI,CACnB,CAGO,SAASC,EAAYC,EAAMC,EAAOC,EAAS,CAChDC,EAASH,CAAI,EAAE,CACb,MAAOC,EACP,QAASC,CACb,CAAG,CACH,CAGO,SAASE,EAAcC,EAAQ,CACpC,MAAMC,EAASD,EACZ,IACC,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAO;AAAA,iBACnEL,CAAa;AAAA,oBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA,6BAEjBC,CAAK;AAAA,6BACLC,CAAK;AAAA,gCACFC,CAAQ;AAAA,iCACPC,CAAS;AAAA;AAAA;AAAA,KAIrC,EACA,KAAK,EAAE,EAEVpB,EAAQ,mBAAmB,YAAaa,CAAM,EAGzCX,EAGHA,EAAS,QAAO,EAFhBA,EAAW,IAAImB,EAAe,YAAY,CAI9C,CCjDA,MAAMC,EAAa,SAAS,eAAe,aAAa,EAExDA,EAAW,iBAAiB,SAAUC,CAAQ,EAE9C,eAAeA,EAASC,EAAO,CAC7BA,EAAM,eAAc,EAEpB,MAAM5B,EAAQ0B,EAAW,SAAS,MAAM,MAAM,OAE9C,GAAI,CAAC1B,EAAO,CACVU,EAAY,UAAW,UAAW,6BAA6B,EAC/D,MACD,CAEDH,IACAC,EAAa,EAAI,EAEjB,GAAI,CACF,MAAMqB,EAAW,MAAM9B,EAAYC,CAAK,EAClCgB,EAASa,EAAS,KAExB,GAAIb,EAAO,SAAW,EAAG,CACvBN,EAAY,OAAQ,OAAQ,wDAAwD,EACpF,MACD,CAEDK,EAAcC,CAAM,EACpBN,EAAY,UAAW,UAAW,SAASmB,EAAS,SAAS,UAAU,CACxE,MAAe,CACdnB,EAAY,QAAS,QAAS,+CAA+C,CACjF,QAAY,CACRF,EAAa,EAAK,CACnB,CACH"}